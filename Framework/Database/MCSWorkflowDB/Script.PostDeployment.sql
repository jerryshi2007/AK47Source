/*
Post-Deployment Script Template							
--------------------------------------------------------------------------------------
 This file contains SQL statements that will be appended to the build script.		
 Use SQLCMD syntax to include a file in the post-deployment script.			
 Example:      :r .\myfile.sql								
 Use SQLCMD syntax to reference a variable in the post-deployment script.		
 Example:      :setvar TableName MyTable							
               SELECT * FROM [$(TableName)]					
--------------------------------------------------------------------------------------
*/
--WF.PROCESS_DESCRIPTOR_CATEGORY
DECLARE @xml XML

SET @xml ='<Root>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="09D05EAF-F16A-4B9A-877D-5B18EE629A83" NAME="税费管理"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="0CC85E39-AF74-4662-9E96-FD5AD7597E35" NAME="秘书服务"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="11CFF259-BF45-4184-8E9F-665849BB9F55" NAME="财务内审"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="1373C216-EFDE-4D54-89B8-943ECF9E2B82" NAME="媒体关系"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="1D90E4DF-CF89-4D43-975D-26308ECD36AB" NAME="会员关系"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="280AEABF-2CAE-463E-8693-F1F0581F71FB" NAME="案件办理"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="2C92DBD8-8825-46AC-87F4-A15826A38E10" NAME="签约"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="2EC055EF-A28C-43B1-9627-B73D85214C67" NAME="设计变更与现场签证"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="33D8E16A-21F3-41EE-BDDD-C58C268FE14C" NAME="土地获取"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="36058665-AFD9-4236-B70B-1E5F2FD2120C" NAME="现场销售"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="3B690344-3BB2-4F11-A283-905BB722FCA0" NAME="员工服务"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="3C8E0509-D907-4F11-84D5-E4749A4B5EE5" NAME="入伙管理"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="3FE96E59-B686-46F5-AEE6-8849DB37A380" NAME="人员提供"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="44B8F71E-3538-4401-B920-AB0DBC462795" NAME="资料管理"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="459BD533-0B52-4D73-A418-6CD75B7537BA" NAME="人员激励"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="46C3EE0B-4D87-41F1-BCE8-B4C80AC7A099" NAME="职业发展规划"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="483D8644-5B24-4498-8E77-CCDB6319FDD9" NAME="产权办理"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="48E99490-A89C-4CC3-BF37-C6C5977CF771" NAME="知识管理"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="50564A7B-DB96-40CA-A531-E97523CDC0F6" NAME="企业文化"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="56140BCF-4A4D-4ED6-BF7D-512F319795DB" NAME="融资"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="5DECFC4E-B10E-4820-8EC4-8B3717B0F15B" NAME="收费管理"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="61147574-B6F4-43C0-83E1-0E5159283332" NAME="经营性资质办理"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="63CE2314-701E-4854-8075-EFB66D7FC056" NAME="产品线研究"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="645D047E-FFD1-4656-BB80-03139BBD01FA" NAME="投资者关系"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="648A5924-00C2-418D-AE2E-AC6F4826AD6C" NAME="投诉管理"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="8BD9FA5E-BDD0-46C6-A1DD-0A8FAF616ABB" NAME="品牌管理"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="90180DAC-9F19-445A-B988-B03189CC4FED" NAME="流程管理"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="9318AA7B-DD72-4BE0-A422-D365E1795D5B" NAME="支付管理"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="96524A51-CE9A-4B1B-99E6-C3F963E974F2" NAME="人员考核"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="9AC5A943-4C3F-41C3-B2FF-82087967DEC6" NAME="客户满意度"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="A1F2A54F-B7E6-4F32-AF35-57ABB214CE6E" NAME="行政服务"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="ACC61AA9-56D5-4136-908C-DCA065CACDD9" NAME="绩效执行"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="ADE7E0CA-8B21-469D-9DA4-4DBD3F792870" NAME="战略规划"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="B0F570F0-6752-4385-BEA8-A15C513203A3" NAME="物业服务"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="B29331B1-BD6F-468F-A2DF-E62B98B684AB" NAME="董事局事务"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="B6512889-CC22-4C1F-A878-AD0C96C929C1" NAME="政府关系"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="BE77D55D-A82F-4477-8F5F-9BE20C927CDB" NAME="集中整改"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="BECDB956-02B2-4783-9A60-9E32B967DDF5" NAME="产品定义"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="C26EDBFF-0799-4D31-800A-362129C35640" NAME="部品材料管理"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="C3AA9770-0131-48B3-8C8E-952CADCDDB46" NAME="财务账务"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="CD35B946-EB98-4B77-B41A-CBCE757D56A8" NAME="教育机构管理"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="D5CEA1E5-6E3C-4D23-8457-BF03BBA496A6" NAME="资产管理"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="D9DC729A-8690-41E0-B0D1-903D1E7BBAC5" NAME="股权管理"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="DB4DA97A-819D-44B3-920A-B0BBED21327D" NAME="战略定位"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="F580118A-394F-4A35-B2AD-31F1774DC90D" NAME="资金管理"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="F8DEE52A-815A-466E-BC4C-7C95AD89D810" NAME="项目实施"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="F9D14119-B935-418A-A3EA-7FD2E6476D1A" NAME="供应商关系"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="FA547571-5986-4E7E-8C70-B82E849F5C20" NAME="档案管理"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="FB97B1F3-8132-4A57-928C-5F3CA064A0A6" NAME="经营管理"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="FBF7F41C-530D-4454-91E8-5EB9028AB3C3" NAME="信息管理"/>
<WF.PROCESS_DESCRIPTOR_CATEGORY ID="FCD4153B-E953-43DA-ADFD-1EB2C25B4981" NAME="联盟商家管理"/>
</Root>'

DECLARE @idoc int

EXEC sp_xml_preparedocument @idoc OUTPUT, @xml

IF NOT EXISTS(SELECT TOP 1 * FROM [WF].[PROCESS_DESCRIPTOR_CATEGORY])
BEGIN
	TRUNCATE TABLE [WF].[PROCESS_DESCRIPTOR_CATEGORY]

	INSERT INTO [WF].[PROCESS_DESCRIPTOR_CATEGORY] (ID, NAME)
	SELECT ID, NAME FROM OPENXML(@idoc,'/Root/WF.PROCESS_DESCRIPTOR_CATEGORY', 0)
	WITH (ID nvarchar(64), NAME nvarchar(max))
END

GO

--WF.APPLICATIONS
DECLARE @xml XML

SET @xml ='<Root>
<WF.APPLICATIONS CODE_NAME="秘书服务" NAME="秘书服务"/>
</Root>'

DECLARE @idoc int

EXEC sp_xml_preparedocument @idoc OUTPUT, @xml

IF NOT EXISTS(SELECT TOP 1 * FROM [WF].[APPLICATIONS])
BEGIN
	TRUNCATE TABLE [WF].[APPLICATIONS]

	INSERT INTO [WF].[APPLICATIONS] (CODE_NAME, NAME)
	SELECT CODE_NAME, NAME FROM OPENXML(@idoc,'/Root/WF.APPLICATIONS', 0)
	WITH (CODE_NAME nvarchar(64), NAME nvarchar(64))
END

GO

IF NOT EXISTS(SELECT TOP 1 * FROM [WF].[APPLICATIONS_ALIAS])
BEGIN
	TRUNCATE TABLE [WF].[APPLICATIONS_ALIAS]
	DECLARE @xml XML

	SET @xml ='<Root>
	<WF.APPLICATIONS_ALIAS APP_ALIAS_CODE_NAME="行政服务" APP_CODE_NAME="秘书服务"/>
	</Root>'

	DECLARE @idoc int

	EXEC sp_xml_preparedocument @idoc OUTPUT, @xml

	INSERT INTO [WF].[APPLICATIONS_ALIAS] (APP_ALIAS_CODE_NAME, APP_CODE_NAME)
	SELECT APP_ALIAS_CODE_NAME, APP_CODE_NAME FROM OPENXML(@idoc,'/Root/WF.APPLICATIONS_ALIAS', 0)
	WITH (APP_ALIAS_CODE_NAME nvarchar(64), APP_CODE_NAME nvarchar(64))
END

GO

--WF.PROGRAMS
DECLARE @xml XML

SET @xml ='<Root>
<WF.PROGRAMS APPLICATION_CODE_NAME="秘书服务" CODE_NAME="部门通知" NAME="部门通知"/>
<WF.PROGRAMS APPLICATION_CODE_NAME="秘书服务" CODE_NAME="函" NAME="函"/>
<WF.PROGRAMS APPLICATION_CODE_NAME="秘书服务" CODE_NAME="单位通知" NAME="单位通知"/>
<WF.PROGRAMS APPLICATION_CODE_NAME="秘书服务" CODE_NAME="会议纪要" NAME="会议纪要"/>
</Root>'

DECLARE @idoc int

EXEC sp_xml_preparedocument @idoc OUTPUT, @xml

IF NOT EXISTS(SELECT TOP 1 * FROM [WF].[PROGRAMS])
BEGIN
	TRUNCATE TABLE [WF].[PROGRAMS]

	INSERT INTO [WF].[PROGRAMS] (APPLICATION_CODE_NAME, CODE_NAME, NAME)
	SELECT APPLICATION_CODE_NAME, CODE_NAME, NAME FROM OPENXML(@idoc,'/Root/WF.PROGRAMS', 0)
	WITH (APPLICATION_CODE_NAME nvarchar(64), CODE_NAME nvarchar(64), NAME nvarchar(64))
END

GO
